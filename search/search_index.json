{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"About Ngine","text":"<p>Ngine provides a set of services related to Cloud offerings created and maintained by Moser Systems.</p>"},{"location":"lb/","title":"Cloud Nodes Load Balancer","text":""},{"location":"sd/","title":"Cloud Targets Service Discovery","text":""},{"location":"sd/#about","title":"About","text":"<p>With our Cloud Targets Service Discovery API, you will be able to monitor your dynmaic infrastructure using the Prometheus Node Exporter installed on your Cloud instances.</p> <p>Through the API, CTSD returns a Prometheus-compatible targets catalog (HTTP SD) that Prometheus can use to monitor your instances.</p> <p>The default port Prometheus uses to query your instances is <code>9100</code> on the public IP. Using Prometheus' relabeling feature, this port can be changed at will and the scraping address moved to a private network. Appropriate designations are provided for this purpose.</p> <p></p>"},{"location":"sd/#requirements","title":"Requirements","text":"<ul> <li>Prometheus or compatible monitoring solution.</li> <li>Node Exporter installed on Cloud instances</li> <li>An API token of your Cloud provider (read-only permission would be sufficient)</li> </ul>"},{"location":"sd/#clouds","title":"Clouds","text":"<p>Prometheus provides Service Discovery (SD) for a list of Clouds. Our service adds the following Cloud providers onto the list:</p> <ul> <li>cloudscale.ch (Setup)</li> <li>Exoscale (Setup)</li> </ul>"},{"location":"sd/#faq","title":"FAQ","text":""},{"location":"sd/#do-you-store-the-cloud-tokens","title":"Do you store the Cloud tokens?","text":"<p>No.</p>"},{"location":"sd/#do-you-store-the-result-of-the-cloud-target-nodes","title":"Do you store the result of the Cloud target nodes?","text":"<p>No.</p>"},{"location":"sd/#what-is-the-availabiltiy","title":"What is the availabiltiy?","text":"<p>This service is \"as is\".</p>"},{"location":"sd/#what-is-the-pricing","title":"What is the pricing?","text":"<p>This service is free to use.</p>"},{"location":"sd/#can-i-test-it-out","title":"Can I test it out?","text":"<p>To tests our API, we provide a Swagger UI</p>"},{"location":"sd/#where-can-i-place-questions-how-can-i-reach-you","title":"Where can I place questions, how can I reach you?","text":"<p>For support, visit moser-systems.com/contact</p>"},{"location":"sd/cloudscale_ch/","title":"Cloudscale.ch","text":""},{"location":"sd/cloudscale_ch/#prometheus","title":"Prometheus","text":"<p>Add the following scrape config to your Prometheus server:</p> <p>Optional: Filter by Tag</p> <p>By adding a <code>filter_tag</code> you could filter instances by this tag. Possible options are <code>?tag:&lt;tag-name&gt;</code> of <code>?tag:&lt;tag-name&gt;=&lt;tag-value&gt;</code></p> <pre><code>scrape_configs:\n- job_name: cloudscale.ch nodes\nhttp_sd_configs:\n- url: \"https://api.ngine.cloud/cloud-sd/v1/cloudscale-ch\"\nauthorization:\ncredentials: &lt;cloudscale api token&gt;\ntype: Bearer\n</code></pre>"},{"location":"sd/cloudscale_ch/#tests","title":"Tests","text":"<p>To test the results, you can use the following <code>curl</code> command:</p> <pre><code>curl -X 'GET' \\\n  'https://api.ngine.cloud/cloud-sd/v1/cloudscale-ch' \\\n  -H 'accept: application/json' \\\n  -H 'Authorization: Bearer &lt;cloudscale api token&gt;'\n</code></pre>"},{"location":"sd/cloudscale_ch/#labels","title":"Labels","text":"<p>The labels returned are:</p> <pre><code>__meta_cloudscale_name: \"example-app1\"\n__meta_cloudscale_image: \"debian-12\"\n__meta_cloudscale_flavor: \"flex-4-1\"\n__meta_cloudscale_vcpu_count: \"1\"\n__meta_cloudscale_memory_gb: \"4\"\n__meta_cloudscale_zone\": \"rma1\"\n__meta_cloudscale_status: \"running\"\n__meta_cloudscale_uuid: \"0ca6d476-23d1-4812-9581-d02fc21d0e..\"\n__meta_cloudscale_tag_&lt;name&gt;: \"&lt;value&gt;\"\n__meta_cloudscale_public_ip_1: \"5.102.149.xy\"\n__meta_cloudscale_public_ip_2: \"2a06:c01:1000:1166::xy\"\n__meta_cloudscale_private_ip_1: \"172.16.146.159\"\n</code></pre>"},{"location":"sd/exoscale/","title":"Exoscale","text":""},{"location":"sd/exoscale/#prometheus","title":"Prometheus","text":"<p>Add the following scrape config to your Prometheus server:</p> <p>Adding Zone</p> <p>Append one of the following zones (<code>?zone=</code>) to the query via : <code>ch-gva-2</code>, <code>ch-dk-2</code>, <code>de-fra-1</code>, <code>de-muc-1</code>, <code>at-vie-1</code>, <code>bg-sof-1</code></p> <pre><code>scrape_configs:\n- job_name: cloudscale.ch nodes\nhttp_sd_configs:\n- url: \"https://api.ngine.cloud/cloud-sd/v1/exoscale?zone=ch-gva-2\"\nauthorization:\ncredentials: &lt;api_key&gt;:&lt;api_secret&gt;\ntype: Bearer\n</code></pre>"},{"location":"sd/exoscale/#tests","title":"Tests","text":"<p>To test the results, you can use the following <code>curl</code> command:</p> <pre><code>curl -X 'GET' \\\n  'https://api.ngine.cloud/cloud-sd/v1/exoscale?zone=ch-gva-2' \\\n  -H 'accept: application/json' \\\n  -H 'Authorization: Bearer &lt;api_key&gt;:&lt;api_secret&gt;'\n</code></pre>"}]}